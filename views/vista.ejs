<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Selección de color</title>
    <link href="./src/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Set the size of the div element that contains the map */
        #map {
            height: 400px;  /* The height is 400 pixels */
            width: 100%;  /* The width is the width of the web page */
        }
    </style>

</head>
<body>
<div class="container" style="width: 650px;">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="text-center">Selección de color</h1>
            <hr/>
            <br/>
            <div id="loader">
                <p class="text-center">Cargando...</p>
            </div>
            <table id="content" style="display: none;">
                <table class="table">
                    <thead>
                    <tr>
                        <th id="uno" scope="col">#</th>
                        <th id="dos" scope="col">Color</th>
                        <th id="tres" scope="col">Número de votos</th>
                    </tr>
                    </thead>
                    <tbody id="candidatesResults">
                    <tr><th>1</th><td>Rojo</td><td id = "votos1"></td></tr>
                    <tr><th>2</th><td>Azul</td><td id = "votos2"></td></tr>
                    <tr><th>3</th><td>Amarillo</td><td id = "votos3"></td></tr>
                    </tbody>
                </table>

                <form onSubmit="App.castVote(); return false;">

                    <table class="table" style = "font-size:130%;">
                        <th scope="col"><a href="http://localhost:3000/rojo.html" >Me gusta el rojo</a></th>
                        <th scope="col"><a href="http://localhost:3000/amarillo.html" >Me gusta el amarillo</a></th>
                        <th scope="col"><a href="http://localhost:3000/azul.html" >Me gusta el azul</a></th>
                    </table>
                </form>

                <table class="table">
                    <th scope="col">
                        <img id='barcodeRojo'
                             src="https://api.qrserver.com/v1/create-qr-code/?data=http://ithelpdesk.westeurope.cloudapp.azure.com:8081/rojo.html&amp;size=100x100"
                             alt=""
                             title="rojo"
                             width="100"
                             height="100" />
                    </th>
                    <th scope="col">
                        <img id='barcodeAzul'
                             src="https://api.qrserver.com/v1/create-qr-code/?data=http://ithelpdesk.westeurope.cloudapp.azure.com:8081/azul.html&amp;size=100x100"
                             alt=""
                             title="azul"
                             width="100"
                             height="100" />
                    </th>
                    <th scope="col">
                        <img id='barcodeAmarillo'
                             src="https://api.qrserver.com/v1/create-qr-code/?data=http://ithelpdesk.westeurope.cloudapp.azure.com:8081/amarillo.html&amp;size=100x100"
                             alt=""
                             title="amarillo"
                             width="100"
                             height="100" />
                    </th>
                </table>
                <div id = "map"></div></div>
    </div>

</div>
</div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="./src/js/bootstrap.min.js"></script>
<script src="./src/js/web3.min.js"></script>
<script src="./src/js/truffle-contract.js"></script>
<script src="./src/js/app.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDYrlVY5744OTULGG1f78JJdSM17k_mshA&callback=initMap"></script>
<script>

    function initMap() {

        var latitude;
        var longitude;

        $.getJSON('http://ip-api.com/json/', function (data) {
            latitude = data['lat'];
            longitude = data['lon'];
            console.log(data)
        });
        setTimeout(function() {
            var uluru = {lat: parseFloat(latitude), lng: parseFloat(longitude)}
            console.log(uluru)
            // The map, centered at Uluru
            var map = new google.maps.Map(
                document.getElementById('map'), {zoom: 4, center: uluru});
            // The marker, positioned at Uluru
            var marker = new google.maps.Marker({position: uluru, map: map});
        }, 2000);
        // The location of Uluru

    }
</script>

</html>